module.exports.config = { 
Â Â Â Â name: "pola", 
Â Â Â Â category: "TOOLS", 
Â Â Â Â author: "Romim",
Â Â Â Â role:2
};

const userResponses = {};
let listenerActive = false;

module.exports.onStart = function({ api, event }) { 
Â Â Â Â const mention = Object.keys(event.mentions)[0]; 
Â Â Â Â if (!mention) return api.sendMessage("Mention a user please.", event.threadID);

Â Â Â Â api.getUserInfo(mention, (err, userInfo) => {
Â Â Â Â Â Â Â Â if (err) return api.sendMessage("Failed to retrieve user information.", event.threadID);

Â Â Â Â Â Â Â Â let genderText;Â Â 
Â Â Â Â Â Â Â Â switch (userInfo[mention].gender) {Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â case 1: 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â genderText = "à¦®à¦¾à¦‡à¦¯à¦¼à¦¾"; 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â case 2: 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â genderText = "à¦ªà§‹à¦²à¦¾"; 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â default: 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â genderText = "à¦¹à¦¿à¦œà¦¡à¦¼à¦¾";
Â Â Â Â Â Â Â Â }Â Â 
Â Â Â Â Â Â Â Â const msg = [`à¦–à¦¾à¦‚à¦•à¦¿à¦° ${genderText} à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦‡à¦¦à¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦° à¦¬à§‹à¦¦à¦¾ à¦¤à§‡ à¦†à¦®à¦¾à¦° à¦®à¦¾à¦² à¦«à¦¾à¦²à¦¾à¦¬à§‹ à¦¤à§‹à¦° à¦¬à¦¾à¦ª à¦†à¦®à¦¿`, `à¦“à¦“à¦“ à¦¬à¦¾à¦¨à§à¦¦à¦¿ à¦° ${genderText} à¦®à¦¾à¦—à¦¿à¦° à¦›à¦¾à¦“à¦¯à¦¼à¦¾à¦²Â Â à¦¤à§‹à¦° à¦¬à¦¾à¦ª à¦†à¦®à¦¿Â Â ðŸ˜.Â Â Â Â Â 
Â Â Â Â .`, `à¦®à¦¾à¦¦à¦¾à¦°à¦šà§‹à¦¦ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦ªà¦® à¦ªà¦® à¦–à¦¾à¦¯à¦¼ à¦¤à§‹à¦° à¦¬à¦¾à¦ª à¦†à¦®à¦¿`,
`à¦à¦–à¦¨ à¦›à¦¨à§à¦¦à§‡à¦° à¦¤à¦¾à¦²à§‡ à¦¤à¦¾à¦²à§‡ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¬à§‹ à¦†à¦¾à¦œà¦•à§‡ à¦–à¦¾à¦²à§‡ à¦¬à¦¿à¦²à§‡ à¦†à¦®à¦¿ à¦¤à§‹à¦° à¦¬à¦¾à¦ª ðŸ’” `,
`à§©-à§©-à§¬ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦¤à¦šà§à¦¦à¦¾à¦®à¦¿ à¦•à¦°à¦®à§ à¦¤à§‹à¦° à¦®à¦¾à¦° à¦­**** à¦œà¦¯à¦¼..`,
`à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦¦à¦¿à¦¬à¦¾à¦¨à¦¿à¦¶à¦¿ à¦°à¦¾à¦‡à¦¤à§‡ à¦šà¦¾à¦à¦¦ à¦¦à§‡à¦–à¦¾à¦¨à§‹à¦° à¦•à¦¥à¦¾ à¦¬à¦²à§‡ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦•à§à¦·à§‡à¦¤à§‡ à¦«à§‡à¦²à§‡ à¦•à§à¦¤à§à¦¤à¦¾ à¦¦à¦¿à¦¯à¦¼à§‡ à¦šà§à¦¦à¦¾à¦¬à§‹ðŸŒ¸ðŸ¥°
Â Â Â Â `,
`à¦¬à¦¾à¦¡à¦¼à¦¿à¦° à¦ªà¦¾à¦¶à§‡ à¦¬à¦°à¦¿à¦¶à¦¾à¦² à¦®à§à¦°à¦—à¦¿ à¦¤à§‹à¦° à¦®à¦¾à§Ÿà§‡ à¦°à§‡ à¦šà§à¦‡à¦¦à§à¦¦à¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦° à¦­à§‹à¦¦à¦¾ à¦¤à§‡ à¦¦à¦¿à¦®à§ 1 à¦¬à¦¾à¦²à¦¤à¦¿ à¦®à¦¾à¦²`,

`à¦–à¦¾à¦™à§à¦•à¦¿à¦°à¦ªà§‹à¦²à¦¾ à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦¬à§‹à¦¨à§‡à¦°Â Â à¦¹à§‹à¦—à¦¾à§Ÿ à¦‡à¦¨à¦ªà§à¦Ÿ, à¦¤à¦° à¦®à¦¾à§Ÿà§‡à¦° à¦­à§‹à¦¦à¦¾à§Ÿ à¦†à¦‰à¦Ÿà¦ªà§à¦Ÿà¥¤`,
`à¦•à¦¿à¦°à§‡ à¦šà§œà¦¾à¦‡à¦¨à§à¦¨à¦¾ à¦¬à¦¦à¦¾à¦‡à¦¨à§à¦¨à¦¾ à¦®à¦¾à¦—à§€à¦° ${genderText} à¦—à¦¾à¦§à¦¾à¦° à¦†à¦›à§‡ à¦¨à¦¾à¦•à¦¿
 à¦šà¦¾à¦®à¦¡à¦¼à¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦° à¦­à§‹à¦¦à¦¾ à¦¤à§à¦‡ à¦•à¦¾à¦®à¦¡à¦¼à¦¾`,
`à¦šà§‹à¦¦à¦¾ à¦–à¦¾à¦‡à¦¯à¦¼à¦¾ à¦¤à§‹à¦° à¦®à¦¾ à¦¯à¦¾à¦‡à¦¬à§‹Â Â à¦®à¦‡à¦°à¦¾,à¦¤à§‹à¦° à¦•à¦šà¦¿ à¦¬à¦‡à¦¨ à¦Ÿà¦¾ à¦°à§‡ à¦šà§à¦¦à§à¦® à¦†à¦®à¦¿ à¦¤à§‹à¦° à¦¬à¦‡à¦¨à§‡à¦° à¦¦à§à¦¦ 2 à¦Ÿà¦¾ à¦§à¦‡à¦°à¦¾`,
`à¦šà§à¦¦à¦¾ à¦–à¦¾à¦‡à¦¯à¦¼à¦¾ à¦¤à§‹à¦° à¦®à¦¾ à¦¬à¦²à¦¬ à¦¬à¦¾à¦¬à¦¾ à¦šà¦¾à¦° à¦†à¦®à¦¿ à¦¬à¦²à¦¬ à¦¤à§à¦‡ à¦†à¦—à§‡ à¦•à§‹ à¦¤à§‹à¦° à¦­à§‹à¦¦à¦¾à¦Ÿà¦¾ à¦•à¦¾à¦°? `,
`à¦•à¦¾à¦šà§à¦šà¦¿ à¦–à¦¾à¦‡à¦¤à§‡ à¦²à¦¾à¦—à§‡ à¦¨à¦¾à¦•à¦¿ à¦®à¦œà¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦¯à¦¼ à¦°à§‡ à¦šà§à¦‡à¦¦à§à¦¦à¦¾ à¦–à¦¾à¦®à§ à¦†à¦®à¦¿ 1 à¦•à§à¦²à¦•à¦¿ à¦—à¦¾à¦œà¦¾ à¦—à¦¾à¦à¦œà¦¾ à¦–à§‡à¦¯à¦¼à§‡ à¦¤à§‹à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦°à§‡ à¦šà§à¦‡à¦¦à¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ gift à¦¦à¦¿à¦®à§ à¦–à¦¾à¦œà¦¾ðŸ˜˜`,
`à¦®à¦¾à¦²à§‡à¦° à¦°à¦‚ à¦¨à¦¾à¦•à¦¿ à¦¸à¦¾à¦¦à¦¾,,à¦®à§à¦°à¦—à¦¿ à¦®à¦¾à¦—à§€à¦° ${genderText} à¦¤à§‹à¦° à¦®à¦¾ à¦°à§‡ à¦šà§à¦‡à¦¦à§à¦¦à¦¾ à¦¬à¦¾à¦¨à¦¾à¦®à§ à¦†à¦®à¦¿ à¦…à¦¨ à¦²à¦¾à¦‡à¦¨ à¦ à¦—à¦¾à¦à¦§à¦¾`,
`à¦¤à§‹à¦° à¦®à¦¾à¦¯à¦¼ à¦°à§‡ à¦šà§‹à¦¦à¦¤à§‡ à¦šà§‹à¦¦à¦¤à§‡ à¦¤à§‹à¦° à¦®à¦¾à¦¯à¦¼ à¦¦à¦¿à¦¸à§‡ à¦•à¦¾à¦‡à¦¨à§à¦¦à¦¾,,à¦®à§à¦°à¦—à¦¿ à¦®à¦¾à¦—à§€à¦° à¦ªà§‹à¦²à¦¾ à¦¤à§‹à¦° à¦•à¦šà¦¿ à¦¬à¦‡à¦¨ à¦Ÿà¦¾ à¦°à§‡ à¦“ à¦šà§à¦¦à§à¦® à¦¤à§‹à¦° à¦¹à¦¾à¦¤ à¦ªà¦¾ à¦¬à¦¾à¦‡à¦¨à§à¦¦à¦¾`,
`à¦šà§à¦¦à¦¿`];
Â Â Â Â Â Â Â 

Â Â Â Â Â Â Â Â const userName = userInfo[mention].name;

Â Â Â Â Â Â Â Â userResponses[event.threadID] = {
Â Â Â Â Â Â Â Â Â Â Â Â targetID: mention,
Â Â Â Â Â Â Â Â Â Â Â Â callerID: event.senderID,
Â Â Â Â Â Â Â Â Â Â Â Â initialSent: false,
Â Â Â Â Â Â Â Â Â Â Â Â index: 0,
Â Â Â Â Â Â Â Â Â Â Â Â msg: msg,
Â Â Â Â Â Â Â Â Â Â Â Â userName: userName
Â Â Â Â Â Â Â Â };

Â Â Â Â Â Â Â Â if (!listenerActive) {
Â Â Â Â Â Â Â Â Â Â Â Â api.listenMqtt((err, message) => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (err || !message || !message.body || !message.threadID) return;

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const threadData = userResponses[message.threadID];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (!threadData) return;

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const { targetID, callerID, initialSent, index, msg, userName } = threadData;

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (message.senderID === targetID) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (!initialSent) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const mentionTag = {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â id: targetID,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tag: `@${userName}`
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â };
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â api.sendMessage({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â body: `à¦•à¦¿à¦°à§‡ @${userName} - à¦›à§‹à¦Ÿ à¦­à¦¾à¦²à§‹ à¦†à¦›à¦¿à¦¸?`,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mentions: [mentionTag]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, message.threadID, (err, info) => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (err) return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â setTimeout(() => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â api.unsendMessage(info.messageID);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, 70000);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, message.messageID);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â threadData.initialSent = true;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const currentMsg = msg[index % msg.length];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â api.sendMessage(currentMsg, message.threadID, (err, info) => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (err) return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â setTimeout(() => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â api.unsendMessage(info.messageID);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, 70000);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, message.messageID);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â threadData.index++;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } else if (message.senderID === callerID) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â api.setMessageReaction('ðŸ˜Ž', message.messageID, (err) => {}, true);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â Â Â Â Â listenerActive = true;
Â Â Â Â Â Â Â Â }
Â Â Â Â });
};
